function isRunningOnClient(){return"undefined"!=typeof window&&globalThis===window}isRunningOnClient()||(globalThis.queueMicrotask||(globalThis.queueMicrotask=function(e){Promise.resolve().then(e)}),globalThis.Response||(globalThis.Response=class{constructor(){}static error(){return{}}static json(){return"{}"}static redirect(){return{}}})),(Object("undefined"!=typeof self?self:this).webpackChunkthemeBundle=Object("undefined"!=typeof self?self:this).webpackChunkthemeBundle||[]).push([[8451],{788:e=>{e.exports="https://cdn.fynd.com/v2/falling-surf-7c8bb8/fyprod/wrkr/organization/687f0bb35ece7c51f1986525/theme/assets/c6f667ad3db099405b9b.png"},51009:(e,n,t)=>{t.r(n),t.d(n,{Component:()=>g,default:()=>m,settings:()=>u});var a=t(4883),l=t.n(a),s=t(92683),i=t(19173);const r={blogListing:"YCcaZ",blogTabs:"dlrUj",blogTab:"fs2Un",activeTab:"LfLey",blogTitle:"hkRh7",blogGrid:"ecBSi",blogCard:"KOzHH",blogCardTitle:"v6EQx",blogImage:"Qyuqw",blogInfoContainer:"Q6NWT",blogMeta:"mXfnK",blogTags:"wigW4",blogTag:"USaQM",loadMoreWrapper:"AEpaP",loadMoreBtn:"lGli1",breadcrumbs:"LYSLZ"};var o=t(788),c=t(77812);function g({props:e}){const n=(0,i.useFPI)(),[t,g]=(0,a.useState)([]),[u,m]=(0,a.useState)(["All"]),[d,p]=(0,a.useState)("All"),[b,h]=(0,a.useState)({current:1,has_next:!1,size:6}),[f,_]=(0,a.useState)(!0),y=async(e="All",t=1,a=!1)=>{_(!0);try{const l={pageNo:t,pageSize:6,..."All"!==e?{tags:e}:{}},i=await n.executeGQL(s.i,l,{skipStoreUpdate:!0}),r=i?.data?.applicationContent?.blogs||{items:[],page:{}};g(e=>a?[...e,...r.items]:r.items),h(r.page||{current:1,has_next:!1,size:6})}catch(e){console.error("Failed to fetch blogs:",e)}finally{_(!1)}};return(0,a.useEffect)(()=>{y(d,1)},[d]),(0,a.useEffect)(()=>{if(t.length&&1===u.length){const e=["All"];t.forEach(n=>{Array.isArray(n.tags)&&n.tags.forEach(n=>{e.includes(n)||e.push(n)})}),m(e)}},[t]),l().createElement("div",{className:r.blogListing},e?.title?.value&&l().createElement("h2",{className:r.blogTitle},e.title.value),l().createElement("div",{className:r.blogTabs},u.map(e=>l().createElement("button",{key:e,className:`${r.blogTab} ${d===e?r.activeTab:""}`,onClick:()=>(e=>{p(e),h({current:1,has_next:!1,size:6})})(e)},e))),f?l().createElement("p",null,"Loading blogs..."):0===t.length?l().createElement("p",null,"No blogs found."):l().createElement(l().Fragment,null,l().createElement("div",{className:r.blogGrid},t.map(n=>l().createElement("a",{href:`/blog/${n.slug}`,key:n.id,className:r.blogCard},l().createElement("h2",{className:r.blogCardTitle},n.title),l().createElement("div",{className:r.blogImage},l().createElement("img",{src:n?.feature_image?.secure_url||e?.fallback_image.value,alt:n.title})),l().createElement("div",{className:r.blogInfoContainer},l().createElement("div",{className:r.blogMeta},l().createElement("span",null,l().createElement("img",{src:c,alt:"calender"}),new Date(n.publish_date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})),l().createElement("span",null,l().createElement("img",{src:o,alt:"clock"})," ",(e=>{try{if(e.reading_time)return e.reading_time;const n=(e?.content?.[0]?.value||"").replace(/<[^>]+>/g," ").trim().split(/\s+/).length;return Math.max(1,Math.ceil(n/200))}catch{return 1}})(n)," min read")),n?.tags?.length>0&&l().createElement("div",{className:r.blogTags},n.tags.map((e,n)=>l().createElement("span",{key:n,className:r.blogTag},e))))))),b.has_next&&l().createElement("div",{className:r.loadMoreWrapper},l().createElement("button",{className:r.loadMoreBtn,onClick:()=>{b.has_next&&y(d,b.current+1,!0)}},"View More Posts"))))}const u={label:"Custom Blog Listing with Tabs & Pagination",props:[{id:"title",type:"text",value:"Blogs",label:"t:resource.common.heading"},{type:"image_picker",id:"fallback_image",label:"t:resource.sections.blog.fallback_image",default:""}]};g.serverFetch=async({fpi:e,router:n})=>{try{const t={pageNo:1,pageSize:6,...n?.filterQuery},a=await e.executeGQL(s.i,t,{skipStoreUpdate:!0});return a?.data?.applicationContent?.blogs||{items:[]}}catch(e){console.log("serverFetch error:",e)}};const m=g},77812:e=>{e.exports="https://cdn.fynd.com/v2/falling-surf-7c8bb8/fyprod/wrkr/organization/687f0bb35ece7c51f1986525/theme/assets/60927c79136fd6a32733.png"},92683:(e,n,t)=>{t.d(n,{Q:()=>l,i:()=>a});const a="query ApplicationContent(\n  $pageNo: Int\n  $tags: String\n  $search: String\n) {\n  applicationContent {\n    blogs(\n        pageNo: $pageNo \n        pageSize: 6 \n        tags: $tags \n        search: $search\n    ) {\n      items {\n        custom_json\n        id\n        application\n        archived\n        published\n        reading_time\n        slug\n        tags\n        publish_date\n        title\n        summary\n        author {\n            designation\n            id\n            name\n        }\n        feature_image {\n            aspect_ratio\n            id\n            secure_url\n        }\n        date_meta {\n            created_on\n            modified_on\n        }\n        content {\n            type\n            value\n        }\n      }\n      page {\n        current\n        next_id\n        has_previous\n        has_next\n        item_total\n        type\n        size\n      }\n      filters {\n        tags\n      }\n    }\n  }\n}\n",l="query blog($slug: String!,$preview: Boolean) {\n  blog(slug: $slug,preview:$preview) {\n    custom_json\n    id\n    application\n    archived\n    author {\n      designation\n      id\n      name\n    }\n    content {\n      type\n      value\n    }\n    date_meta {\n      created_on\n      modified_on\n    }\n    feature_image {\n      aspect_ratio\n      id\n      secure_url\n    }\n    published\n    reading_time\n    seo {\n      title\n      description\n      canonical_url\n    }\n    slug\n    tags\n    publish_date\n    title\n    summary\n  }\n}\n"}}]);