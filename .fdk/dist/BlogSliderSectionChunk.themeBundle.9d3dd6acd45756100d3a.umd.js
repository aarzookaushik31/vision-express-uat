function isRunningOnClient(){return"undefined"!=typeof window&&globalThis===window}isRunningOnClient()||(globalThis.queueMicrotask||(globalThis.queueMicrotask=function(e){Promise.resolve().then(e)}),globalThis.Response||(globalThis.Response=class{constructor(){}static error(){return{}}static json(){return"{}"}static redirect(){return{}}})),(Object("undefined"!=typeof self?self:this).webpackChunkthemeBundle=Object("undefined"!=typeof self?self:this).webpackChunkthemeBundle||[]).push([[3732],{85279:(e,n,t)=>{t.r(n),t.d(n,{Component:()=>p,default:()=>m,settings:()=>u});var a=t(4883),i=t.n(a),s=t(4589),r=t(19173),l=t(92683);const o={blogSliderSection:"gLPk7",heading:"JMV7e",subHeading:"sMKgM",sliderWrapper:"lipM3",blogCard:"j0vAf",imageWrapper:"OSQ_c",content:"IbIFW",meta:"S2EJz",blogCardContent:"KZMTC",title:"VLKdg",summary:"qEQU1"},c="https://cdn.fynd.com/v2/falling-surf-7c8bb8/fyprod/wrkr/organization/687f0bb35ece7c51f1986525/theme/assets/97eeb14d1967c0a863ff.png",d="https://cdn.fynd.com/v2/falling-surf-7c8bb8/fyprod/wrkr/organization/687f0bb35ece7c51f1986525/theme/assets/cdf9a71bd96272f7f181.png";function g(){return g=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},g.apply(null,arguments)}function p({props:e}){const n=(0,r.useFPI)(),[t,p]=(0,a.useState)([]),[u,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{m(!0);try{const e=await n.executeGQL(l.i,{pageNo:1,pageSize:6},{skipStoreUpdate:!0});p(e?.data?.applicationContent?.blogs?.items||[])}catch(e){console.error("Failed to fetch blogs:",e)}finally{m(!1)}})()},[]);const b={dots:!0,arrows:!0,infinite:t.length>3,speed:500,slidesToShow:3,slidesToScroll:1,centerMode:!0,centerPadding:"0px",responsive:[{breakpoint:1024,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}}]};return i().createElement("div",{className:`${o.blogSliderSection} blog-slider-section`},e?.title?.value&&i().createElement("h2",{className:o.heading},e.title.value),e?.description?.value&&i().createElement("p",{className:o.subHeading},e.description.value),u?i().createElement("div",{className:o.loading},"Loading blogs..."):i().createElement(s.A,g({},b,{className:o.sliderWrapper}),t.map((n,t)=>{const a=n?.feature_image?.secure_url||e?.fallback_image?.value||"",s=n.reading_time?`${n.reading_time} min read`:"5 min read",r=n.publish_date?new Date(n.publish_date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"";return i().createElement("div",{key:n.id||t,className:o.blogCard},i().createElement("div",{className:o.imageWrapper},i().createElement("img",{src:a,alt:n.title})),i().createElement("div",{className:o.content},i().createElement("div",{className:`${o.meta} blog-meta`},r&&i().createElement("span",null," ",i().createElement("img",{src:d,alt:"calender"}),"  ",r," "),i().createElement("span",null,"  ",i().createElement("img",{src:c,alt:"clock"})," ",s)),i().createElement("div",{className:o.blogCardContent},i().createElement("h3",{className:`${o.title} blog-title`},n.title),Array.isArray(n.content)&&n.content.length>0&&(()=>{const e=n.content.find(e=>"html"===e.type);if(!e)return null;const t=e.value.replace(/<[^>]+>/g,"").split(" "),a=t.slice(0,12).join(" ")+(t.length>12?"...":"");return i().createElement("div",{className:`${o.summary} blog-summary`},a)})())))})))}const u={label:"Blog Slider",props:[{id:"title",type:"text",value:"The Visionary Edit",label:"Section Heading"},{id:"description",type:"text",value:"Your go-to guide for eye care, eyewear trends, and vision tips. From eye health essentials to fashion-forward framesâ€”see it all here.",label:"Section Description"},{id:"fallback_image",type:"image_picker",label:"Fallback Blog Image",default:""}]};p.serverFetch=async({fpi:e})=>{try{const n={pageSize:6,pageNo:1},t=await e.executeGQL(l.i,n,{skipStoreUpdate:!0});return t?.data?.applicationContent?.blogs||{items:[]}}catch(e){console.log("serverFetch error:",e)}};const m=p},92683:(e,n,t)=>{t.d(n,{Q:()=>i,i:()=>a});const a="query ApplicationContent(\n  $pageNo: Int\n  $tags: String\n  $search: String\n) {\n  applicationContent {\n    blogs(\n        pageNo: $pageNo \n        pageSize: 6 \n        tags: $tags \n        search: $search\n    ) {\n      items {\n        custom_json\n        id\n        application\n        archived\n        published\n        reading_time\n        slug\n        tags\n        publish_date\n        title\n        summary\n        author {\n            designation\n            id\n            name\n        }\n        feature_image {\n            aspect_ratio\n            id\n            secure_url\n        }\n        date_meta {\n            created_on\n            modified_on\n        }\n        content {\n            type\n            value\n        }\n      }\n      page {\n        current\n        next_id\n        has_previous\n        has_next\n        item_total\n        type\n        size\n      }\n      filters {\n        tags\n      }\n    }\n  }\n}\n",i="query blog($slug: String!,$preview: Boolean) {\n  blog(slug: $slug,preview:$preview) {\n    custom_json\n    id\n    application\n    archived\n    author {\n      designation\n      id\n      name\n    }\n    content {\n      type\n      value\n    }\n    date_meta {\n      created_on\n      modified_on\n    }\n    feature_image {\n      aspect_ratio\n      id\n      secure_url\n    }\n    published\n    reading_time\n    seo {\n      title\n      description\n      canonical_url\n    }\n    slug\n    tags\n    publish_date\n    title\n    summary\n  }\n}\n"}}]);