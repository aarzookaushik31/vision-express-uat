function isRunningOnClient(){return"undefined"!=typeof window&&globalThis===window}isRunningOnClient()||(globalThis.queueMicrotask||(globalThis.queueMicrotask=function(e){Promise.resolve().then(e)}),globalThis.Response||(globalThis.Response=class{constructor(){}static error(){return{}}static json(){return"{}"}static redirect(){return{}}})),(Object("undefined"!=typeof self?self:this).webpackChunkthemeBundle=Object("undefined"!=typeof self?self:this).webpackChunkthemeBundle||[]).push([[7333],{2958:e=>{e.exports="https://cdn.fynd.com/v2/falling-surf-7c8bb8/fyprod/wrkr/organization/687f0bb35ece7c51f1986525/theme/assets/ff223fc1483415d96e68.jpg"},6731:e=>{e.exports="https://cdn.fynd.com/v2/falling-surf-7c8bb8/fyprod/wrkr/organization/687f0bb35ece7c51f1986525/theme/assets/06950005d0c3d33401b6.png"},13007:(e,t,a)=>{a.d(t,{A:()=>s});var n,r=a(4883);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(null,arguments)}const s=function(e){return r.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:22,height:22,fill:"none"},e),n||(n=r.createElement("path",{stroke:"#A83093",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.313,d:"M9.252 3.125c-2.578.028-4.017.192-4.973 1.148-1.154 1.154-1.154 3.01-1.154 6.724s0 5.57 1.154 6.724 3.01 1.154 6.724 1.154 5.57 0 6.724-1.154c.956-.956 1.12-2.395 1.148-4.974M12.75 3.125h3.5c1.237 0 1.856 0 2.24.384.385.385.385 1.004.385 2.241v3.5M18 4l-7.875 7.875"})))}},23442:(e,t,a)=>{a.d(t,{A:()=>$});var n=a(4883),r=a.n(n),o=a(7667);const s={"login-auth-container":"ZzD5p",n2oQ6:"WpZbY",uiz1K:"mqsX7",P1CJx:"CmlKL",kkBOU:"DlTkG","react-international-phone-country-selector-button":"gYLYc","react-international-phone-input":"AWvbs","forget-password-container":"KQnZb","profile-navigation-container":"qKMX9",ojp_C:"ZuFAE",O32OW:"CFHzd","collection-hero-banner":"ID_As","collection-banner-img":"m1mwC","collection-banner-img-mobile":"IodYK","collection-banner-content":"jjbDN","custom-banner-card":"bvGrG","banner-overlay":"G590i","banner-content":"PPyD6","banner-btn":"x1eu8",flexColumn:"k706y",flexAlignCenter:"WGZyZ",flexCenter:"yUFKh",justifyStart:"oyy50",justifyBetween:"pKR0g","slick-dots":"s_izx","slick-active":"u61gd","legal-data-container":"Uc9bv","share-popup-overlay":"NV1wY",upArrow:"U2Lgs","overlay-share":"awLn5","share-popup":"AqMhu",icons:"ZcY_Y",iconWrapper:"zMppH",moreApp:"jvjvc",desktopCopyIcon:"EclHQ",mobileCopyIcon:"FrYAt",circleIconContainer:"MdISQ",iconContainer:"XxU9I",iconName:"XAUcD","popup-title":"J5Ku3","close-icon":"gh4Ws","copy-input":"lYzbG","white-btn":"Wj4Je"};var l,c,i=a(46708),m=a(16588);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d.apply(null,arguments)}const p=function(e){return n.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:46,height:40,fill:"none"},e),l||(l=n.createElement("g",{filter:"url(#polygon_svg__a)"},n.createElement("path",{fill:"#fff",d:"M21.343 13.059a2 2 0 0 1 3.17 0L29.856 20H16z"}))),c||(c=n.createElement("defs",null,n.createElement("filter",{id:"polygon_svg__a",width:45.855,height:39.721,x:0,y:.279,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},n.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),n.createElement("feOffset",{dy:4}),n.createElement("feGaussianBlur",{stdDeviation:8}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),n.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_38656_59045"}),n.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_38656_59045",result:"shape"})))))};var u,g=a(48447);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h.apply(null,arguments)}const f=function(e){return n.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),u||(u=n.createElement("path",{fill:"#31B34A",d:"M12 0C5.383 0 0 5.383 0 12c0 2.066.534 4.098 1.546 5.89L.019 23.337a.521.521 0 0 0 .628.648l5.685-1.408A12 12 0 0 0 12 24c6.617 0 12-5.383 12-12S18.617 0 12 0m6.037 16.234c-.257.711-1.488 1.36-2.08 1.447-.531.077-1.203.11-1.941-.12a18 18 0 0 1-1.756-.642c-3.09-1.318-5.108-4.39-5.263-4.593-.154-.203-1.258-1.65-1.258-3.147s.796-2.233 1.079-2.537c.282-.305.616-.381.821-.381.206 0 .411.002.591.01.19.01.443-.07.693.523.257.61.873 2.106.95 2.26.077.152.128.33.025.532-.102.203-.153.33-.307.508-.155.178-.324.397-.463.533-.154.152-.314.316-.135.621.18.305.798 1.3 1.714 2.108 1.177 1.036 2.17 1.357 2.477 1.51.308.152.488.126.668-.077s.77-.888.975-1.192c.205-.305.41-.255.693-.153.283.101 1.798.837 2.105.99.308.152.514.228.591.355s.077.735-.18 1.445"})))};var E,v;function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},w.apply(null,arguments)}const b=function(e){return n.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),E||(E=n.createElement("path",{fill:"#000",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12"})),v||(v=n.createElement("path",{fill:"#fff",d:"m4.606 5.047 5.736 7.67-5.772 6.235h1.3l5.053-5.46 4.083 5.46h4.42l-6.058-8.101 5.373-5.804h-1.3l-4.653 5.028-3.76-5.028zm1.91.957h2.032l8.968 11.99h-2.03z"})))};var y;function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},N.apply(null,arguments)}const _=function(e){return n.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),y||(y=n.createElement("path",{fill:"#1877F2",d:"M24 12.073C24 5.405 18.627 0 12 0S0 5.405 0 12.073C0 18.1 4.388 23.094 10.125 24v-8.437H7.078v-3.49h3.047v-2.66c0-3.025 1.791-4.697 4.533-4.697 1.313 0 2.686.236 2.686.236v2.971H15.83c-1.491 0-1.956.93-1.956 1.886v2.264h3.328l-.532 3.49h-2.796V24C19.612 23.094 24 18.1 24 12.073"})))};var C;function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},k.apply(null,arguments)}const S=function(e){return n.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none"},e),C||(C=n.createElement("path",{fill:"#261A1A",d:"M12.025 1.607H3.961c-.739 0-1.344.605-1.344 1.344v9.408h1.344V2.951h8.064zm2.016 2.688H6.65c-.739 0-1.344.605-1.344 1.344v9.408c0 .74.605 1.344 1.344 1.344h7.392c.74 0 1.344-.604 1.344-1.344V5.64c0-.739-.605-1.344-1.344-1.344m0 10.752H6.65V5.64h7.392z"})))};var A;function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},L.apply(null,arguments)}const x=function(e){return n.createElement("svg",L({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none"},e),A||(A=n.createElement("path",{fill:"#261A1A",d:"M9 6.311c.74 0 1.344-.605 1.344-1.344S9.74 3.623 9 3.623s-1.344.605-1.344 1.344S8.261 6.311 9 6.311m0 1.344c-.739 0-1.344.605-1.344 1.344S8.261 10.343 9 10.343s1.344-.605 1.344-1.344S9.74 7.655 9 7.655m0 4.032c-.739 0-1.344.605-1.344 1.344S8.261 14.375 9 14.375s1.344-.605 1.344-1.344S9.74 11.687 9 11.687"})))};var B;function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},F.apply(null,arguments)}const M=function(e){return n.createElement("svg",F({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none"},e),B||(B=n.createElement("path",{fill:"#261A1A",d:"M12.361 5.64H9.673v1.344h2.688c1.11 0 2.016.907 2.016 2.016a2.02 2.02 0 0 1-2.016 2.016H9.673v1.344h2.688a3.361 3.361 0 0 0 0-6.72M8.33 11.016H5.641A2.02 2.02 0 0 1 3.625 9c0-1.109.907-2.016 2.016-2.016H8.33V5.64H5.641a3.361 3.361 0 0 0 0 6.72H8.33zM6.313 8.328h5.376v1.344H6.313z"})))};var I=a(19173);const $=function({setShowSocialLinks:e,description:t,handleShare:a}){const{t:n}=(0,I.useGlobalTranslation)("translation"),l=encodeURIComponent(window?.location?.href),{showSnackbar:c}=(0,m.dh)(),d=encodeURIComponent(t),u=window?.location?.href,h=[{name:`${n("resource.common.copy_link")}`,icon:r().createElement(r().Fragment,null,r().createElement(S,{className:s.desktopCopyIcon}),r().createElement(M,{className:s.mobileCopyIcon})),onClick:e=>{e.stopPropagation(),(0,i.lW)(u),c(n("resource.common.copy_link"),"success")}},{name:"Facebook",icon:r().createElement(_,null),link:`https://www.facebook.com/sharer/sharer.php?u=${l}`},{name:"X",icon:r().createElement(b,null),link:`https://twitter.com/share?url=${l}&text=${d}`},{name:"WhatsApp",icon:r().createElement(f,null),link:`https://wa.me/?text=${d} ${l}`},{name:"More Apps",icon:r().createElement(x,null),onClick:a}];return r().createElement(r().Fragment,null,r().createElement("div",{className:s["overlay-share"],onClick:t=>{t.stopPropagation(),t.preventDefault(),e(!1)}}),r().createElement("div",{className:s["share-popup-overlay"]},r().createElement("span",{className:s.upArrow},r().createElement(o.FDKLink,{to:`https://wa.me/?text=${d} ${l}`,target:"_blank",rel:"noopener noreferrer"},r().createElement(p,{className:s.PolygonIcon}))),r().createElement("div",{className:s["share-popup"],onClick:e=>e.stopPropagation()},r().createElement("div",{className:`${s["popup-title"]} fontHeader`},n("resource.common.share"),r().createElement("span",{className:s["close-icon"],onClick:()=>e(!1)},r().createElement(g.A,null))),r().createElement("div",{className:s.icons},h.map((e,t)=>r().createElement("div",{key:t,className:`${s.iconWrapper} ${"More Apps"===e.name?s.moreApp:""}`,onClick:e.onClick},r().createElement("span",{className:`${s.iconContainer} ${e.onClick?s.circleIconContainer:""}`},e.link?r().createElement(o.FDKLink,{to:e.link,target:"_blank",rel:"noopener noreferrer"},e.icon):e.icon),r().createElement("span",{className:s.iconName},e.name)))))))}},73962:e=>{e.exports="https://cdn.fynd.com/v2/falling-surf-7c8bb8/fyprod/wrkr/organization/687f0bb35ece7c51f1986525/theme/assets/98b5d3629bb1e844dae5.jpg"},78474:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(4883),r=a.n(n);const o=function({isOpen:e,isCancelable:t=!0,childHandleFocus:a=!1,modalType:o="",closeDialog:s,children:l,className:c=""}){const i=(0,n.useRef)(null),m=(0,n.useRef)(null);return(0,n.useEffect)(()=>{e&&!a&&i.current&&i.current.focus()},[e,a]),(0,n.useEffect)(()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&s()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[s]),e&&r().createElement("div",{role:"button",className:"C3SB_ "+("right-modal"===o?"cQL2j":""),ref:i,tabIndex:"0",onKeyDown:e=>"Escape"===e.key&&t&&s()},r().createElement("div",{className:`EuGuC ${c}`,ref:m},l))}},79345:e=>{e.exports="https://cdn.fynd.com/v2/falling-surf-7c8bb8/fyprod/wrkr/organization/687f0bb35ece7c51f1986525/theme/assets/4abc9e3165b7a21b48ba.png"},96675:(e,t,a)=>{a.r(t),a.d(t,{Component:()=>L,default:()=>x,getLocateUsStoreAPI:()=>S,getLocateUsStoreAPISearch:()=>A});var n=a(4883),r=a.n(n);const o={storeLocatorSection:"bsPHx",overlay:"YFHKW",cityModalLocateUs:"Fiwlp",closeIcon:"J2IX7",cityModalList:"zN58v",cityModalButton:"ZqyTf",activeCity:"ovBlU",contentWrapper:"YtnvM",currentLocationButton:"CFvsd",inputGroup:"HG59B",pincodeInput:"zn7vW",locateButton:"mOLA6",storeListWrapper:"NrDNq",mapContainer:"ZT1bI",cityFilterWrapper:"nChUq",cityFilterHeader:"peAJR",showcitiesBtn:"xwejH",clearFilterBtn:"I4TKM",cityList:"bXnPF",cityButton:"etjOF"};var s=a(6731),l=a(79345),c=a(2958),i=a(73962);const m={storeListContainer:"fXS07",storeCount:"FcUtK",storeList:"gTs8f",storeCard:"rXDQ_",imageWrapper:"c_G8v",storeImage:"FlHmp",storeContent:"sY8qa",storeName:"HytpM",ratingtext:"DaGxh",storeAddress:"jqckB",storeLocation:"VsU69",error:"rkvXH",phonebookContainer:"n6gae",storePhone:"GM92m",buttonGroup:"AtLWM",directionBtn:"vToQp",detailsBtn:"hxELl"},d="https://cdn.fynd.com/v2/falling-surf-7c8bb8/fyprod/wrkr/organization/687f0bb35ece7c51f1986525/theme/assets/6b0272ea441c1ddce2c2.png",p="https://cdn.fynd.com/v2/falling-surf-7c8bb8/fyprod/wrkr/organization/687f0bb35ece7c51f1986525/theme/assets/eaa8e959bc1a97f64668.png",u="https://cdn.fynd.com/v2/falling-surf-7c8bb8/fyprod/wrkr/organization/687f0bb35ece7c51f1986525/theme/assets/4eb1db5ef7313ed8be6b.png",g=({stores:e=[],loading:t=!1,error:a=null,defaultPhone:n})=>t?r().createElement("p",{className:m.message},"Loading stores..."):a?r().createElement("p",{className:m.error},a):e.length?r().createElement("div",{className:m.storeListContainer},r().createElement("h2",{className:m.storeCount},"Showing ",e.length," Stores"),r().createElement("ul",{className:m.storeList},e.map((e,t)=>{const a=e.store_image&&e.store_image[0]||d,o=[e.store_address_line_1,e.store_address_line_2,e.store_city,e.store_state,e.store_pincode].map(e=>e?.trim().replace(/,+$/,"")).filter(Boolean).join(", ").replace(/,+/g,",").replace(/\s*,\s*/g,", ").replace(/\s{2,}/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()).replace(/\s+/g," ").trim();let s="";return"object"==typeof e.phone_number&&null!==e.phone_number?s=`${e.phone_number.code?`+${e.phone_number.code}-`:""}${e.phone_number.number}`:"string"==typeof e.phone_number&&""!==e.phone_number.trim()?s=e.phone_number:n&&(s=n),r().createElement("li",{key:e._id||t,className:m.storeCard},r().createElement("div",{className:m.imageWrapper},r().createElement("img",{src:a,alt:e.store_name,className:m.storeImage})),r().createElement("div",{className:m.storeContent},r().createElement("h3",{className:m.storeName},e.store_name),r().createElement("p",{className:m.ratingtext},"4+      ",r().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"rgba(238, 171, 67, 1)",width:"18",height:"18"},r().createElement("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.357 4.175a1 1 0 00.95.69h4.392c.969 0 1.371 1.24.588 1.81l-3.56 2.584a1 1 0 00-.364 1.118l1.357 4.175c.3.921-.755 1.688-1.54 1.118l-3.56-2.584a1 1 0 00-1.176 0l-3.56 2.584c-.784.57-1.838-.197-1.539-1.118l1.357-4.175a1 1 0 00-.364-1.118L2.662 9.602c-.783-.57-.38-1.81.588-1.81h4.392a1 1 0 00.95-.69l1.357-4.175z"})),"  Ratings"),r().createElement("p",{className:m.storeAddress},o),r().createElement("div",{className:m.phonebookContainer},s&&r().createElement("p",null,r().createElement("img",{src:p,alt:"Phone Icon"}),r().createElement("a",{href:`tel:${s}`},s)),r().createElement("p",null,r().createElement("img",{src:u,alt:"Book Appointment"}),r().createElement("a",{href:`/sections/book-an-eye-test?storeCode=${e.store_code}`},"Book Appointment"))),r().createElement("div",{className:m.buttonGroup},r().createElement("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent("Vision Express, "+o)}`,target:"_blank",rel:"noreferrer",className:m.directionBtn},"Get Direction"),r().createElement("a",{href:`/locate-us?storeCode=${e.store_code}`,className:m.detailsBtn},"Store Details"))))}))):r().createElement("p",{className:m.message},"No stores found.");var h=a(78474);const f={storeDetailsSection:"Hl51z",breadcrumb:"gr_CY",shareContainer:"g1hB8",shareIcon:"qpMG0",loadingtext:"heWFa",ratingContainer:"i5NrJ",topSection:"fl45T",imageCarousel:"l5KU3",infoBlock:"ONhdL",storeName:"S47FT",ratingRow:"ewu0c",reviewCount:"wJ1Fc",address:"t9DYw",phoneRow:"S3AAc",actionButtons:"aGEfa",primaryBtn:"JcKu2",outlineBtn:"yblIP",servicesOffered:"hv2_U",servicesGrid:"mLW14",serviceCard:"jGARx",iconCircle:"P6MPg",locationSection:"LsCG9",timings:"AhAw0",reviewsSection:"re4xm",reviewSummary:"JdMP3",avgRating:"BNbi9",totalReviews:"Wsb5p",ratingBars:"VZQGZ",ratingBarRow:"Pt3kV",bar:"Z68bG",fill:"x8qZH",reviewList:"E9uA3",reviewCard:"BXkea",userRow:"tVhGx",userAvatar:"D4K7J",reviewText:"Fsl8l",nearbyStoresSection:"yGh61",nearbyStoreList:"MhCjE",nearbyStoreCard:"daPKh",imageWrapper:"wz8bZ",storeImage:"RINLe",storeContent:"FDQW9",storeAddress:"z9TLE",storeLocation:"xfZUG",phonebookContainer:"ZN5rZ",storePhone:"KydID",buttonGroup:"CcnTX",directionBtn:"UrZs4",detailsBtn:"EiPeT"};var E=a(13007),v=a(23442),w=a(4589);const b=({preFetchedData:e,fetchReviews:t=!1})=>{if(!e)return r().createElement("p",{className:f.loadingtext},"Loading rating...");const{ratingData:a,reviews:n}=e,o=e=>{const t=Math.floor(e),a=e-t>=.25&&e-t<.75,n=5-t-(a?1:0),o="rgba(238, 171, 67, 1)",s="#E0E0E0",l=(e,t)=>r().createElement("svg",{key:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:e,width:"18",height:"18"},r().createElement("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.357 4.175a1 1 0 00.95.69h4.392c.969 0 1.371 1.24.588 1.81l-3.56 2.584a1 1 0 00-.364 1.118l1.357 4.175c.3.921-.755 1.688-1.54 1.118l-3.56-2.584a1 1 0 00-1.176 0l-3.56 2.584c-.784.57-1.838-.197-1.539-1.118l1.357-4.175a1 1 0 00-.364-1.118L2.662 9.602c-.783-.57-.38-1.81.588-1.81h4.392a1 1 0 00.95-.69l1.357-4.175z"}));return[...Array(t).fill().map((e,t)=>l(o,`full-${t}`)),...a?[r().createElement("svg",{key:"half",width:"18",height:"18",viewBox:"0 0 20 20"},r().createElement("defs",null,r().createElement("linearGradient",{id:"half"},r().createElement("stop",{offset:"50%",stopColor:o}),r().createElement("stop",{offset:"50%",stopColor:s}))),r().createElement("path",{fill:"url(#half)",d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.357 4.175a1 1 0 00.95.69h4.392c.969 0 1.371 1.24.588 1.81l-3.56 2.584a1 1 0 00-.364 1.118l1.357 4.175c.3.921-.755 1.688-1.54 1.118l-3.56-2.584a1 1 0 00-1.176 0l-3.56 2.584c-.784.57-1.838-.197-1.539-1.118l1.357-4.175a1 1 0 00-.364-1.118L2.662 9.602c-.783-.57-.38-1.81.588-1.81h4.392a1 1 0 00.95-.69l1.357-4.175z"}))]:[],...Array(n).fill().map((e,t)=>l(s,`empty-${t}`))]},s={dots:!0,arrows:!0,speed:500,slidesToShow:1,slidesToScroll:1};return t?r().createElement("div",{className:f.reviewsSection},r().createElement("h3",null,"Store Reviews"),r().createElement("div",{className:f.reviewSummary},r().createElement("div",{className:f.avgRating},r().createElement("h2",null,a.rating.toFixed(1),r().createElement("span",null,"/5")),r().createElement("span",{className:f.totalReviews},a.total," reviews")),r().createElement("div",{className:f.ratingBars},[5,4,3,2,1].map(e=>{const t=n?.length||0,a=n?.filter(t=>Math.round(t.rating)===e).length,o=t?a/t*100:0;return r().createElement("div",{key:e,className:f.ratingBarRow},r().createElement("span",{className:f.ratingLabel},e," ",r().createElement("span",{className:f.star},"â­")),r().createElement("div",{className:f.bar},r().createElement("div",{className:f.fill,style:{width:`${o}%`}})))}))),r().createElement("div",{className:f.reviewList},n?.length?r().createElement(w.A,s,n.map((e,t)=>r().createElement("div",{key:t,className:f.reviewCard},r().createElement("div",{className:f.userRow},r().createElement("div",{className:f.userAvatar},e.author_name?.[0]||"U"),r().createElement("div",null,r().createElement("h4",null,e.author_name),r().createElement("div",{style:{display:"flex",alignItems:"center",gap:"4px"}},o(e.rating)))),r().createElement("p",{className:f.reviewText},e.text)))):r().createElement("p",{className:f.noReviews},"No reviews available."))):r().createElement("div",{className:f.ratingContainer},r().createElement("div",{style:{display:"flex",alignItems:"center",gap:"2px"}},o(a.rating)),r().createElement("span",null,a.rating.toFixed(1),"/5"," ",r().createElement("span",{style:{color:"rgba(56, 56, 56, 0.2)"}},"|")," ",a.total," reviews"))},y=({store:e,defaultPhone:t,nearbyStores:a=[]})=>{const[o,s]=(0,n.useState)(!1),[l,c]=(0,n.useState)(null);if(!e)return r().createElement("div",{className:f.error},"Store details not available.");const{store_name:i,store_image:m=[],store_address_line_1:g,store_address_line_2:h,store_city:w,store_state:y,store_pincode:N,store_latitude:_,store_longitude:C,store_longitutde:k,store_phone:S,store_timings:A}=e,L=_,x=C||k,B=e=>e.toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()).replace(/\s+/g," ").trim(),F=[g,h,w,y,N].map(e=>e?.trim().replace(/,+$/,"")).filter(Boolean).join(", ").replace(/,+/g,",").replace(/\s*,\s*/g,", ").replace(/\s{2,}/g," "),M=B(F),I=`https://www.google.com/maps?q=${L},${x}&hl=en&z=15&output=embed`;let $="";S&&""!==S.trim()?$=S:t&&($=t);const P=/Mobi|Android/i.test(navigator.userAgent),O=`${i} - located at ${M}. Visit us today for eye check-ups, eyewear, and more!`;return(0,n.useEffect)(()=>{(async()=>{try{const e=await new Promise((e,t)=>{if(window.google?.maps?.places)return e(window.google.maps);const a=document.createElement("script");a.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDOoSC7Ny7q7JBAAHmIBE0UTkPCZqaop9E&libraries=places",a.async=!0,a.defer=!0,a.onload=()=>window.google?.maps?.places?e(window.google.maps):t("Google Maps not available"),a.onerror=()=>t("Failed to load Google Maps"),document.body.appendChild(a)}),t=new e.places.PlacesService(document.createElement("div")),a={query:`Vision Express ${M}`,fields:["place_id","name","formatted_address"]};t.findPlaceFromQuery(a,(a,n)=>{if(n===e.places.PlacesServiceStatus.OK&&a.length){const n={placeId:a[0].place_id,fields:["name","rating","user_ratings_total","reviews"]};t.getDetails(n,(t,a)=>{a===e.places.PlacesServiceStatus.OK&&t&&c({ratingData:{name:t.name,rating:t.rating||0,total:t.user_ratings_total||0},reviews:t.reviews||[]})})}})}catch(e){console.error("Error preloading Google data:",e)}})()},[M]),r().createElement("section",{className:f.storeDetailsSection},r().createElement("div",{className:f.breadcrumb},r().createElement("p",null,r().createElement("a",{href:"/"},"Home")," / ",r().createElement("a",{href:"/stores"},"Stores")," /"," ",r().createElement("span",null,w)," / ",r().createElement("strong",null,i))),r().createElement("div",{className:f.topSection},r().createElement("div",{className:f.imageCarousel},r().createElement("img",{src:m[0]||"https://cdn.fynd.com/v2/falling-surf-7c8bb8/fyprod/wrkr/organization/687f0bb35ece7c51f1986525/theme/assets/bc9150b9d18abaceb5be.png",alt:i})),r().createElement("div",{className:f.infoBlock},r().createElement("h1",{className:f.storeName},i),l&&r().createElement(b,{preFetchedData:l,fetchReviews:!1}),r().createElement("p",{className:f.address},M),$&&r().createElement("div",{className:f.phoneRow},r().createElement("img",{src:"https://cdn.fynd.com/v2/falling-surf-7c8bb8/fyprod/wrkr/organization/687f0bb35ece7c51f1986525/theme/assets/5fb9e23eb46b66919d81.png",alt:"phone"}),r().createElement("a",{href:`tel:${$}`},$)),r().createElement("div",{className:f.actionButtons},r().createElement("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent("Vision Express, "+M)}`,target:"_blank",rel:"noreferrer",className:f.primaryBtn},"Get Directions"),r().createElement("a",{href:`/sections/book-an-eye-test?storeCode=${e.store_code}`,className:f.outlineBtn},"Book Appointment"),r().createElement("div",{className:f.shareContainer},r().createElement("span",{className:f.shareIcon,onClick:()=>s(!0)},r().createElement(E.A,null)),o&&r().createElement(v.A,{setShowSocialLinks:s,handleShare:()=>(async()=>{if(navigator.share&&P)try{await navigator.share({title:i,text:O,url:window.location.href})}catch(e){console.error("Sharing failed:",e)}else s(!0)})(),description:O}))),r().createElement("div",{className:f.servicesOffered},r().createElement("h3",null,"Services Offered"),r().createElement("div",{className:f.servicesGrid},r().createElement("div",{className:f.serviceCard},r().createElement("div",{className:f.iconCircle},r().createElement("img",{src:"https://cdn.fynd.com/v2/falling-surf-7c8bb8/fyprod/wrkr/organization/687f0bb35ece7c51f1986525/theme/assets/2a7c57d13569f2295181.png",alt:"Purchase"})),r().createElement("p",null,"Purchase")),r().createElement("div",{className:f.serviceCard},r().createElement("div",{className:f.iconCircle},r().createElement("img",{src:"https://cdn.fynd.com/v2/falling-surf-7c8bb8/fyprod/wrkr/organization/687f0bb35ece7c51f1986525/theme/assets/01ccae90efe20792f703.png",alt:"Eye"})),r().createElement("p",null,"Eye")),r().createElement("div",{className:f.serviceCard},r().createElement("div",{className:f.iconCircle},r().createElement("img",{src:"https://cdn.fynd.com/v2/falling-surf-7c8bb8/fyprod/wrkr/organization/687f0bb35ece7c51f1986525/theme/assets/8aae0482d4e5bed5af6c.png",alt:"Repair"})),r().createElement("p",null,"Repair")),r().createElement("div",{className:f.serviceCard},r().createElement("div",{className:f.iconCircle},r().createElement("img",{src:"https://cdn.fynd.com/v2/falling-surf-7c8bb8/fyprod/wrkr/organization/687f0bb35ece7c51f1986525/theme/assets/c9689eb18993a220a937.png",alt:"Replacement"})),r().createElement("p",null,"Replacement")))),r().createElement("div",{className:f.locationSection},r().createElement("h3",null,"Location"),A&&(A.weekdays||A.weekends)&&r().createElement("p",{className:f.timings},A?.weekdays&&r().createElement(r().Fragment,null,"MON - FRI: ",A.weekdays),A?.weekdays&&A?.weekends&&" | ",A?.weekends&&r().createElement(r().Fragment,null,"SAT - SUN: ",A.weekends)),L&&x&&r().createElement("iframe",{src:I,width:"100%",height:"350",style:{border:0,borderRadius:"8px"},allowFullScreen:!0,loading:"lazy"})),l&&r().createElement(b,{preFetchedData:l,fetchReviews:!0}))),a.length>0&&r().createElement("div",{className:f.nearbyStoresSection},r().createElement("h3",null,"More Stores Near You"),r().createElement("ul",{className:f.nearbyStoreList},a.slice(0,2).map((e,a)=>{const n=e.store_image&&e.store_image[0]||d,o=[e.store_address_line_1,e.store_address_line_2,e.store_city,e.store_state,e.store_pincode].map(e=>e?.trim().replace(/,+$/,"")).filter(Boolean).join(", ").replace(/,+/g,",").replace(/\s*,\s*/g,", ").replace(/\s{2,}/g," "),s=B(o),l=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent("Vision Express, "+s)}`;let c="";return"object"==typeof e.phone_number&&null!==e.phone_number?c=`${e.phone_number.code?`+${e.phone_number.code}-`:""}${e.phone_number.number}`:"string"==typeof e.phone_number&&""!==e.phone_number.trim()?c=e.phone_number:t&&(c=t),r().createElement("li",{key:e._id||a,className:f.nearbyStoreCard},r().createElement("div",{className:f.imageWrapper},r().createElement("img",{src:n,alt:e.store_name,className:f.storeImage})),r().createElement("div",{className:f.storeContent},r().createElement("h4",{className:f.storeName},e.store_name),r().createElement("p",{className:f.storeAddress},s),r().createElement("div",{className:f.phonebookContainer},c&&r().createElement("p",null,r().createElement("img",{src:p,alt:"Phone Icon"}),r().createElement("a",{href:`tel:${c}`},c)),r().createElement("p",null,r().createElement("img",{src:u,alt:"Book Appointment"}),r().createElement("a",{href:`/sections/book-an-eye-test?storeCode=${e.store_code}`},"Book Appointment"))),r().createElement("div",{className:f.buttonGroup},r().createElement("a",{href:l,target:"_blank",rel:"noreferrer",className:f.directionBtn},"Get Direction"),r().createElement("a",{href:`/locate-us?storeCode=${e.store_code}`,className:f.detailsBtn},"Store Details"))))}))))};var N=a(48447),_=a(19173),C=a(73515);const k=`${window.location.origin}`,S=async()=>{try{const e=`${k}/ext/store-locator/v1.0/getStores?perPage=500`,t=await fetch(e);if(!t.ok)throw new Error("Failed to fetch stores");return await t.json()}catch(e){return console.error("API error:",e),null}},A=async e=>{try{const t=`${k}/ext/store-locator/v1.0/getStores?perPage=500&search=${e}`,a=await fetch(t);if(!a.ok)throw new Error("Failed to search stores");return await a.json()}catch(e){return console.error("Search API error:",e),null}};function L(e={}){const t=e&&(e.props??e)||{},{backgroundImage:a,mobileBackgroundImage:m,heading:d,subheading:p,inputPlaceholder:u,buttonText:f,currentLocationText:E}=t||{},v=(0,_.useFPI)(),{supportInfo:w}=(0,C.A)(v),b=w?.contact?.phone?.phone??[],k=Array.isArray(b)&&b.length>0?b[0]:null,L=k?`${k.code?`+${k.code}-`:""}${k.number}`:"",x="undefined"!=typeof window,B=x&&window.innerWidth<=768?m?.value||i:a?.value||c,[F,M]=(0,n.useState)(null),[I,$]=(0,n.useState)([]),[P,O]=(0,n.useState)([]),[j,G]=(0,n.useState)(!1),[R,z]=(0,n.useState)(null),[D,H]=(0,n.useState)(""),[U,W]=(0,n.useState)([]),[T,q]=(0,n.useState)(!1),[K,Z]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(x){const e=new URLSearchParams(window.location.search),t=e.get("storeCode");t&&M(t);const a=e.get("pincode");if(a)return H(a),void J(a);const n=e.get("cityName");if(n&&(H(n),I.length)){const e=I.filter(e=>e.store_city&&e.store_city.toLowerCase()===n.toLowerCase());e.length?(O(e),W([n]),Z(!0)):J(n)}}},[x,I]),(0,n.useEffect)(()=>{(async()=>{G(!0);try{const e=await S();e?.success&&e?.data?.length?($(e.data),console.log(e.data),K||O(e.data),z(null)):($([]),O([]),z("No stores found"))}catch(e){console.error(e),z("Failed to fetch stores")}finally{G(!1)}})()},[]),(0,n.useEffect)(()=>{if(!P.length)return;const e=()=>{const e=document.getElementById("storesMap");if(!e)return;const t=P.filter(e=>{const t=parseFloat(e.store_latitude),a=parseFloat(e.store_longitutde)||parseFloat(e.store_longitude);return!isNaN(t)&&!isNaN(a)}),a=new window.google.maps.Map(e,{zoom:5,center:{lat:t.length?parseFloat(t[0].store_latitude):20.5937,lng:t.length?parseFloat(t[0].store_longitutde||t[0].store_longitude):78.9629}});t.forEach(e=>{const t=parseFloat(e.store_latitude),n=parseFloat(e.store_longitutde)||parseFloat(e.store_longitude),r=new window.google.maps.Marker({position:{lat:t,lng:n},map:a,title:e.store_name}),o=new window.google.maps.InfoWindow({content:`\n            <div style="min-width:200px;">\n              <strong>${e.store_name}</strong><br/>\n              ${e.store_city||""}, ${e.store_state||""}<br/>\n              <a href="?storeId=${e._id}" style="color:#1976d2;text-decoration:underline;">View Details</a>\n            </div>\n          `});r.addListener("click",()=>o.open(a,r))})};if(window.google)e();else{const t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDOoSC7Ny7q7JBAAHmIBE0UTkPCZqaop9E",t.async=!0,t.defer=!0,t.onload=e,document.body.appendChild(t)}},[P]);const V=(e,t,a,n)=>{if(!(e&&t&&a&&n))return 1/0;const r=e=>e*Math.PI/180,o=r(a-e),s=r(n-t),l=Math.sin(o/2)*Math.sin(o/2)+Math.cos(r(e))*Math.cos(r(a))*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))*6371},Y=(e,t=2)=>{if(!e||!I.length)return[];const a=parseFloat(e.store_latitude),n=parseFloat(e.store_longitude||e.store_longitutde);if(isNaN(a)||isNaN(n))return[];const r=I.filter(t=>t._id!==e._id).map(e=>{const t=parseFloat(e.store_latitude),r=parseFloat(e.store_longitude||e.store_longitutde),o=V(a,n,t,r);return{...e,distance:o}}).filter(e=>e.distance!==1/0).sort((e,t)=>e.distance-t.distance).slice(0,t);return r.length?r:I.filter(t=>t.store_city?.toLowerCase()===e.store_city?.toLowerCase()&&t._id!==e._id).slice(0,t)},J=async(e=D)=>{console.log("search start"),G(!0);try{const t=await A(e);t?.success&&t?.data?.length?(W([]),Z(!0),O(t.data),z(null),console.log("search query",e)):(O([]),z(`No stores found for "${e}"`))}catch(e){console.error(e),z("Failed to search stores")}finally{G(!1)}},X=e=>{H(""),z(null),W(t=>{if(t.includes(e)){const a=t.filter(t=>t!==e);if(0===a.length)O(I);else{const e=I.filter(e=>a.map(e=>e.toLowerCase()).includes(e.store_city?.toLowerCase()));O(e)}return a}{const a=[...t,e],n=I.filter(e=>a.map(e=>e.toLowerCase()).includes(e.store_city?.toLowerCase()));return O(n),a}}),q(!1)},Q=Array.from(new Set(I.map(e=>e.store_city).filter(Boolean))),ee=[...U.filter(e=>Q.includes(e)),...Q.filter(e=>!U.includes(e))];if(F){const e=I.find(e=>String(e.store_code)===String(F));return e?r().createElement("section",{className:o.storeDetailsWrapper},r().createElement(y,{defaultPhone:L,nearbyStores:Y(e,2),store:e})):r().createElement("section",{className:o.storeDetailsWrapper},r().createElement("p",{className:o.loadingText},"Loading store details..."))}return r().createElement("section",null,r().createElement("div",{className:o.storeLocatorSection,style:{backgroundImage:B?`url(${B})`:"none"}},r().createElement("div",{className:o.overlay},r().createElement("div",{className:o.contentWrapper},d?.value&&r().createElement("h2",{dangerouslySetInnerHTML:{__html:d.value}}),p?.value&&r().createElement("p",null,p.value),r().createElement("div",{className:o.inputGroup},r().createElement("input",{type:"text",value:D,onChange:e=>H(e.target.value),placeholder:u?.value||"Enter Pincode / City",className:o.pincodeInput}),r().createElement("button",{className:o.locateButton,onClick:()=>J(D)},r().createElement("img",{src:s,alt:"locate"})," ",f?.value||"Locate Stores")),r().createElement("button",{className:o.currentLocationButton,onClick:()=>{navigator.geolocation?(G(!0),navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude,a=e.coords.longitude,n=I.map(e=>{const n=parseFloat(e.store_latitude),r=parseFloat(e.store_longitutde)||parseFloat(e.store_longitude),o=V(t,a,n,r);return{...e,distance:o}}).filter(e=>e.distance!==1/0).sort((e,t)=>e.distance-t.distance);O(n),z(null),G(!1)},e=>{console.error("Location access denied:",e),alert("Unable to fetch location. Please allow location access."),G(!1)})):alert("Geolocation is not supported by your browser.")},disabled:j},j?"Detecting...":E?.value||"Or Use My Current Location"," ",r().createElement("img",{src:l,alt:"location"}))))),r().createElement("div",{className:o.cityFilterWrapper},r().createElement("div",{className:o.cityFilterHeader},r().createElement("p",null,"Choose your city from the list below to see all nearby stores"),r().createElement("div",{className:o.filterButtonsGroup},U.length>0&&r().createElement("button",{onClick:()=>{W([]),O(I)},className:o.clearFilterBtn},"Clear Filter"),r().createElement("button",{className:o.showcitiesBtn,onClick:()=>q(!T)},T?"Hide Cities":"Show All Cities"))),r().createElement("div",{className:o.cityList},ee.map(e=>r().createElement("button",{key:e,onClick:()=>X(e),className:`${o.cityButton} ${U.includes(e)?o.activeCity:""}`},e)))),r().createElement("div",{className:o.storeListWrapper},r().createElement(g,{stores:P,loading:j,error:R,defaultPhone:L}),r().createElement("div",{className:o.mapContainer,id:"storesMap"})),r().createElement(h.A,{isOpen:T,closeDialog:()=>q(!1),modalType:"",className:"cityListModal"},r().createElement("div",{className:o.cityModalLocateUs},r().createElement("p",null,"Choose your city from the list below to see all nearby stores"),r().createElement("span",{className:o.closeIcon,onClick:()=>q(!1)},r().createElement(N.A,null)),r().createElement("div",{className:o.cityModalList},ee.filter(e=>"show all"!==e.toLowerCase()).slice().sort((e,t)=>e.localeCompare(t)).map(e=>r().createElement("button",{key:e,onClick:()=>X(e),className:`${o.cityModalButton} ${U.includes(e)?o.activeCity:""}`},e))))))}L.displayName="StoreLocatorComponent";const x=L}}]);